# locales.py
LOCALES = {
    'ru': {
        'Управление Финансами': 'Управление Финансами',
        'Мои Финансы': 'Мои Финансы',
        'Привет,': 'Привет,',
        'Мои Заметки': 'Мои Заметки',
        'Выйти': 'Выйти',
        'Регистрация': 'Регистрация',
        'Войти': 'Войти',
        'Добавить новую финансовую цель': 'Добавить новую финансовую цель',
        'Тип цели:': 'Тип цели:',
        'Доход': 'Доход',  # <-- Этот ключ не использовался, т.к. в notes.html было 'Доход:'
        'Расход': 'Расход',  # <-- Этот ключ не использовался, т.к. в notes.html было 'Расход:'
        'Накопление': 'Накопление',  # <-- Этот ключ не использовался, т.к. в notes.html было 'Накопление:'
        'Заметка:': 'Заметка:',
        'Опишите вашу цель...': 'Опишите вашу цель...',
        'Сумма:': 'Сумма:',
        'Введите сумму...': 'Введите сумму...',
        'Добавить цель': 'Добавить цель',
        'Вход': 'Вход',
        'Имя пользователя:': 'Имя пользователя:',
        'Пароль:': 'Пароль:',
        'Нет аккаунта?': 'Нет аккаунта?',
        'Зарегистрироваться': 'Зарегистрироваться',
        'Уже есть аккаунт?': 'Уже есть аккаунт?',
        'Для доступа к этой странице необходимо войти в систему.': 'Для доступа к этой странице необходимо войти в систему.',
        'Имя пользователя обязательно.': 'Имя пользователя обязательно.',
        'Пароль обязателен.': 'Пароль обязателен.',
        "Пользователь '%(username)s' уже зарегистрирован.": "Пользователь '%(username)s' уже зарегистрирован.",
        'Вы успешно зарегистрировались! Теперь войдите в систему.': 'Вы успешно зарегистрировались! Теперь войдите в систему.',
        'Неверное имя пользователя.': 'Неверное имя пользователя.',
        'Неверный пароль.': 'Неверный пароль.',
        'Вы успешно вошли в систему!': 'Вы успешно вошли в систему!',
        'Вы вышли из системы.': 'Вы вышли из системы.',
        'Пожалуйста, заполните заметку!': 'Пожалуйста, заполните заметку!',
        'Цель успешно добавлена!': 'Цель успешно добавлена!',
        'Вы не можете просматривать заметки других пользователей.': 'Вы не можете просматривать заметки других пользователей.',
        "Результаты поиска по запросу '%(query)s'": "Результаты поиска по запросу '%(query)s'",
        'Редактировать запись': 'Редактировать запись',
        'Сохранить изменения': 'Сохранить изменения',
        'Отмена': 'Отмена',
        'Запись не найдена или у вас нет прав доступа.': 'Запись не найдена или у вас нет прав доступа.',
        'Сумма должна быть числом.': 'Сумма должна быть числом.',
        'Заметки пользователя:': 'Заметки пользователя:',
        'Поиск заметок': 'Поиск заметок',
        'Введите запрос для поиска...': 'Введите запрос для поиска...',
        'Найти': 'Найти',
        'Все заметки:': 'Все заметки:',
        'Тип:': 'Тип:',
        'Дата создания:': 'Дата создания:',
        'Редактировать': 'Редактировать',
        'У вас пока нет заметок. Добавьте первую!': 'У вас пока нет заметок. Добавьте первую!',
        'Итоги за текущий месяц:': 'Итоги за текущий месяц:',
        'Месячный баланс:': 'Месячный баланс:',
        'Доход:': 'Доход:',  # НОВОЕ: С двоеточием
        'Расход:': 'Расход:',  # НОВОЕ: С двоеточием
        'Накопление:': 'Накопление:'  # НОВОЕ: С двоеточием
    },
    'en': {
        'Управление Финансами': 'Financial Management',
        'Мои Финансы': 'My Finances',
        'Привет,': 'Hello,',
        'Мои Заметки': 'My Notes',
        'Выйти': 'Logout',
        'Регистрация': 'Register',
        'Войти': 'Login',
        'Добавить новую финансовую цель': 'Add New Financial Goal',
        'Тип цели:': 'Goal Type:',
        'Доход': 'Income',  # <-- Этот ключ не использовался
        'Расход': 'Expense',  # <-- Этот ключ не использовался
        'Накопление': 'Savings',  # <-- Этот ключ не использовался
        'Заметка:': 'Note:',
        'Опишите вашу цель...': 'Describe your goal...',
        'Сумма:': 'Amount:',
        'Введите сумму...': 'Enter amount...',
        'Добавить цель': 'Add Goal',
        'Вход': 'Login',
        'Имя пользователя:': 'Username:',
        'Пароль:': 'Password:',
        'Нет аккаунта?': 'No account?',
        'Зарегистрироваться': 'Register',
        'Уже есть аккаунт?': 'Already have an account?',
        'Для доступа к этой странице необходимо войти в систему.': 'You need to log in to access this page.',
        'Имя пользователя обязательно.': 'Username is required.',
        'Пароль обязателен.': 'Password is required.',
        "Пользователь '%(username)s' уже зарегистрирован.": "User '%(username)s' is already registered.",
        'Вы успешно зарегистрировались! Теперь войдите в систему.': 'You have successfully registered! Please log in now.',
        'Неверное имя пользователя.': 'Invalid username.',
        'Неверный пароль.': 'Invalid password.',
        'Вы успешно вошли в систему!': 'You have successfully logged in!',
        'Вы вышли из системы.': 'You have been logged out.',
        'Пожалуйста, заполните заметку!': 'Please fill in the note!',
        'Цель успешно добавлена!': 'Goal successfully added!',
        'Вы не можете просматривать заметки других пользователей.': 'You cannot view other users\' notes.',
        "Результаты поиска по запросу '%(query)s'": "Search results for '%(query)s'",
        'Редактировать запись': 'Edit Entry',
        'Сохранить изменения': 'Save Changes',
        'Отмена': 'Cancel',
        'Запись не найдена или у вас нет прав доступа.': 'Entry not found or you do not have access rights.',
        'Сумма должна быть числом.': 'Amount must be a number.',
        'Заметки пользователя:': 'User\'s Notes:',
        'Поиск заметок': 'Search Notes',
        'Введите запрос для поиска...': 'Enter a search query...',
        'Найти': 'Find',
        'Все заметки:': 'All Notes:',
        'Тип:': 'Type:',
        'Дата создания:': 'Creation Date:',
        'Редактировать': 'Edit',
        'У вас пока нет заметок. Добавьте первую!': 'You don\'t have any notes yet. Add the first one!',
        'Итоги за текущий месяц:': 'Summary for current month:',
        'Месячный баланс:': 'Monthly Balance:',
        'Доход:': 'Income:',  # НОВОЕ: С двоеточием
        'Расход:': 'Expense:',  # НОВОЕ: С двоеточием
        'Накопление:': 'Savings:'  # НОВОЕ: С двоеточием
    }
}


# Вспомогательная функция для перевода
def gettext_manual(text, **variables):
    # Если g.locale доступен, используем его, иначе язык по умолчанию (русский)
    from flask import g
    current_locale = getattr(g, 'locale', 'ru')

    # Получаем перевод из словаря LOCALES, если есть, иначе возвращаем оригинальный текст
    translated_text = LOCALES.get(current_locale, {}).get(text, text)

    # Если есть переменные (например, для '%(username)s'), форматируем строку
    if variables:
        try:
            return translated_text % variables
        except TypeError:  # Если переменные есть, но в строке их нет или неверный формат
            return translated_text
    return translated_text