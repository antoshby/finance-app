# locales.py
LOCALES = {
    'ru': {
        'Управление Финансами': 'Мои Сбережения',  # ИЗМЕНЕНО
        'Мои Финансы': 'Мои Финансы',
        'Привет,': 'Привет,',
        'Мои Заметки': 'Мои Заметки',
        'Выйти': 'Выйти',
        'Регистрация': 'Регистрация',
        'Войти': 'Войти',
        'Добавить новую финансовую цель': 'Новая запись',  # ИЗМЕНЕНО
        'Тип цели:': 'Тип цели:',
        'Доход': 'Доход',
        'Расход': 'Расход',
        'Накопление': 'Накопление',
        'Заметка:': 'Заметка:',
        'Опишите вашу цель...': 'Опишите вашу цель...',
        'Сумма:': 'Сумма:',
        'Введите сумму...': 'Введите сумму...',
        'Добавить цель': 'Добавить цель',
        'Вход': 'Вход',
        'Имя пользователя:': 'Имя пользователя:',
        'Пароль:': 'Пароль:',
        'Нет аккаунта?': 'Нет аккаунта?',
        'Зарегистрироваться': 'Зарегистрироваться',
        'Уже есть аккаунт?': 'Уже есть аккаунт?',
        'Для доступа к этой странице необходимо войти в систему.': 'Для доступа к этой странице необходимо войти в систему.',
        'Имя пользователя обязательно.': 'Имя пользователя обязательно.',
        'Пароль обязателен.': 'Пароль обязателен.',
        "Пользователь '%(username)s' уже зарегистрирован.": "Пользователь '%(username)s' уже зарегистрирован.",
        'Вы успешно зарегистрировались! Теперь войдите в систему.': 'Вы успешно зарегистрировались! Теперь войдите в систему.',
        'Неверное имя пользователя.': 'Неверное имя пользователя.',
        'Неверный пароль.': 'Неверный пароль.',
        'Вы успешно вошли в систему!': 'Вы успешно вошли в систему!',
        'Вы вышли из системы.': 'Вы вышли из системы.',
        'Пожалуйста, заполните заметку!': 'Пожалуйста, заполните заметку!',
        'Цель успешно добавлена!': 'Цель успешно добавлена!',
        'Вы не можете просматривать заметки других пользователей.': 'Вы не можете просматривать заметки других пользователей.',
        "Результаты поиска по запросу '%(query)s'": "Результаты поиска по запросу '%(query)s'",
        'Редактировать запись': 'Редактировать запись',
        'Сохранить изменения': 'Сохранить изменения',
        'Отмена': 'Отмена',
        'Запись не найдена или у вас нет прав доступа.': 'Запись не найдена или у вас нет прав доступа.',
        'Сумма должна быть числом.': 'Сумма должна быть числом.',
        'Заметки пользователя:': 'Заметки пользователя:',
        'Поиск заметок': 'Поиск заметок',
        'Введите запрос для поиска...': 'Введите запрос для поиска...',
        'Найти': 'Найти',
        'Все заметки:': 'Все заметки:',
        'Тип:': 'Тип:',
        'Дата создания:': 'Дата создания:',
        'Редактировать': 'Редактировать',
        'У вас пока нет заметок. Добавьте первую!': 'У вас пока нет заметок. Добавьте первую!',
        'Итоги за текущий месяц:': 'Итоги за текущий месяц:',
        'Месячный баланс:': 'Месячный баланс:',
        'Доход:': 'Доход:',
        'Расход:': 'Расход:',
        'Накопление:': 'Накопление:',
        'Мои Цели': 'Мои Цели',
        'Мои Цели Сбережений': 'Мои Цели Сбережений',
        'Название цели:': 'Название цели:',
        'Например: На машину, На квартиру, Подушка безопасности': 'Например: На машину, На квартиру, Подушка безопасности',
        'Добавить новую цель:': 'Добавить новую цель:',
        'Существующие цели:': 'Существующие цели:',
        'У вас пока нет добавленных целей. Добавьте первую!': 'У вас пока нет добавленных целей. Добавьте первую!',
        'Название цели не может быть пустым.': 'Название цели не может быть пустым.',
        'Цель "%(goal_name)s" успешно добавлена!': 'Цель "%(goal_name)s" успешно добавлена!',
        'Цель с таким названием уже существует.': 'Цель с таким названием уже существует.',
        'Общие итоги:': 'Общие итоги:',  # НОВЫЕ СТРОКИ ДЛЯ ОБЩЕГО САММАРИ
        'Общий доход:': 'Общий доход:',
        'Общий расход:': 'Общий расход:',
        'Общее накопление:': 'Общее накопление:',
        'Общий баланс:': 'Общий баланс:',
        'Накопления по целям:': 'Накопления по целям:',
        'Без цели': 'Без цели',
        'Нет данных.': 'Нет данных.',
        'Цели можно добавить на странице "Мои Цели".': 'Цели можно добавить на странице "Мои Цели".',  # НОВАЯ СТРОКА
    },
    'en': {
        'Управление Финансами': 'My Savings',  # ИЗМЕНЕНО
        'Мои Финансы': 'My Finances',
        'Привет,': 'Hello,',
        'Мои Заметки': 'My Notes',
        'Выйти': 'Logout',
        'Регистрация': 'Register',
        'Войти': 'Login',
        'Добавить новую финансовую цель': 'New input',  # ИЗМЕНЕНО
        'Тип цели:': 'Goal Type:',
        'Доход': 'Income',
        'Расход': 'Expense',
        'Накопление': 'Savings',
        'Заметка:': 'Note:',
        'Опишите вашу цель...': 'Describe your goal...',
        'Сумма:': 'Amount:',
        'Введите сумму...': 'Enter amount...',
        'Добавить цель': 'Add Goal',
        'Вход': 'Login',
        'Имя пользователя:': 'Username:',
        'Пароль:': 'Password:',
        'Нет аккаунта?': 'No account?',
        'Зарегистрироваться': 'Register',
        'Уже есть аккаунт?': 'Already have an account?',
        'Для доступа к этой странице необходимо войти в систему.': 'You need to log in to access this page.',
        'Имя пользователя обязательно.': 'Username is required.',
        'Пароль обязателен.': 'Password is required.',
        "Пользователь '%(username)s' уже зарегистрирован.": "User '%(username)s' is already registered.",
        'Вы успешно зарегистрировались! Теперь войдите в систему.': 'You have successfully registered! Please log in now.',
        'Неверное имя пользователя.': 'Invalid username.',
        'Неверный пароль.': 'Invalid password.',
        'Вы успешно вошли в систему!': 'You have successfully logged in!',
        'Вы вышли из системы.': 'You have been logged out.',
        'Пожалуйста, заполните заметку!': 'Please fill in the note!',
        'Цель успешно добавлена!': 'Goal successfully added!',
        'Вы не можете просматривать заметки других пользователей.': 'You cannot view other users\' notes.',
        "Результаты поиска по запросу '%(query)s'": "Search results for '%(query)s'",
        'Редактировать запись': 'Edit Entry',
        'Сохранить изменения': 'Save Changes',
        'Отмена': 'Cancel',
        'Запись не найдена или у вас нет прав доступа.': 'Entry not found or you do not have access rights.',
        'Сумма должна быть числом.': 'Amount must be a number.',
        'Заметки пользователя:': 'User\'s Notes:',
        'Поиск заметок': 'Search Notes',
        'Введите запрос для поиска...': 'Enter a search query...',
        'Найти': 'Find',
        'Все заметки:': 'All Notes:',
        'Тип:': 'Type:',
        'Дата создания:': 'Creation Date:',
        'Редактировать': 'Edit',
        'У вас пока нет заметок. Добавьте первую!': 'You don\'t have any notes yet. Add the first one!',
        'Итоги за текущий месяц:': 'Summary for current month:',
        'Месячный баланс:': 'Monthly Balance:',
        'Доход:': 'Income:',
        'Расход:': 'Expense:',
        'Накопление:': 'Savings:',
        'Мои Цели': 'My Goals',
        'Мои Цели Сбережений': 'My Savings Goals',
        'Название цели:': 'Goal Name:',
        'Например: На машину, На квартиру, Подушка безопасности': 'E.g.: For a car, For an apartment, Emergency fund',
        'Добавить новую цель:': 'Add New Goal:',
        'Существующие цели:': 'Existing Goals:',
        'У вас пока нет добавленных целей. Добавьте первую!': 'You don\'t have any goals yet. Add your first one!',
        'Название цели не может быть пустым.': 'Goal name cannot be empty.',
        'Цель "%(goal_name)s" успешно добавлена!': 'Goal "%(goal_name)s" successfully added!',
        'Цель с таким названием уже существует.': 'A goal with this name already exists.',
        'Общие итоги:': 'Overall Summary:',
        'Общий доход:': 'Total Income:',
        'Общий расход:': 'Total Expense:',
        'Общее накопление:': 'Total Savings:',
        'Общий баланс:': 'Overall Balance:',
        'Накопления по целям:': 'Savings by Goal:',
        'Без цели': 'No specific goal',
        'Нет данных.': 'No data.',
        'Цели можно добавить на странице "Мои Цели".': 'Goals can be added on the "My Goals" page.',  # НОВАЯ СТРОКА
    }
}


# Вспомогательная функция для перевода
def gettext_manual(text, **variables):
    # Если g.locale доступен, используем его, иначе язык по умолчанию (русский)
    from flask import g
    current_locale = getattr(g, 'locale', 'ru')

    # Получаем перевод из словаря LOCALES, если есть, иначе возвращаем оригинальный текст
    translated_text = LOCALES.get(current_locale, {}).get(text, text)

    # Если есть переменные (например, для '%(username)s'), форматируем строку
    if variables:
        try:
            return translated_text % variables
        except TypeError:  # Если переменные есть, но в строке их нет или неверный формат
            return translated_text
    return translated_text